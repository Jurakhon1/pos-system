# Система аутентификации POS

## Обзор

В проекте реализована система аутентификации с использованием React hooks и защищенных маршрутов.

## Компоненты

### 1. LoginForm (`src/components/ui/login-form.tsx`)
Основная форма входа с полями:
- Email
- Пароль
- Чекбокс "Запомнить меня"
- Ссылка "Забыли пароль?"

### 2. LoginPage (`src/app/login/page.tsx`)
Страница входа с современным дизайном:
- Градиентный фон
- Центрированная форма
- Логотип системы
- Адаптивный дизайн

### 3. AuthError (`src/components/ui/auth-error.tsx`)
Компонент для отображения ошибок аутентификации с иконкой и стилизацией.

### 4. ProtectedRoute (`src/components/ui/protected-route.tsx`)
Компонент-обертка для защиты маршрутов от неавторизованных пользователей.

### 5. UserInfo (`src/components/ui/user-info.tsx`)
Отображение информации о пользователе в боковом меню с возможностью выхода.

## Хуки

### useAuth (`src/shared/hooks/use-auth.ts`)
Основной хук для управления аутентификацией:

```typescript
const { user, isAuthenticated, isLoading, login, logout } = useAuth();
```

**Состояние:**
- `user` - объект пользователя
- `isAuthenticated` - статус аутентификации
- `isLoading` - состояние загрузки

**Методы:**
- `login(email, password)` - вход в систему
- `logout()` - выход из системы

## Тестирование

Для тестирования доступны тестовые учетные данные:
- **Email:** `admin@example.com`
- **Пароль:** `password`

## Структура файлов

```
src/
├── app/
│   └── login/
│       ├── page.tsx          # Страница входа
│       └── layout.tsx        # Layout без бокового меню
├── components/
│   └── ui/
│       ├── login-form.tsx    # Форма входа
│       ├── auth-error.tsx    # Компонент ошибок
│       ├── protected-route.tsx # Защита маршрутов
│       └── user-info.tsx     # Информация о пользователе
├── shared/
│   └── hooks/
│       └── use-auth.ts       # Хук аутентификации
└── test/
    └── login-page.test.tsx   # Тесты страницы входа
```

## Использование

### 1. Вход в систему
Перейдите на `/login` и используйте тестовые учетные данные.

### 2. Защита маршрутов
Все маршруты автоматически защищены компонентом `ProtectedRoute` в главном layout.

### 3. Выход из системы
Нажмите на иконку выхода в боковом меню.

## Стилизация

Используется Tailwind CSS с кастомными цветами:
- Основной цвет: `blue-600`
- Фон: градиент `from-blue-50 to-indigo-100`
- Тени и границы для глубины

## Безопасность

- Все маршруты защищены от неавторизованного доступа
- Токены хранятся в localStorage (в продакшене рекомендуется использовать httpOnly cookies)
- Автоматический редирект на страницу входа при отсутствии аутентификации

## Развитие

Для дальнейшего развития рекомендуется:
1. Интеграция с реальным backend API
2. Использование JWT токенов
3. Добавление refresh токенов
4. Реализация ролевой системы доступа
5. Добавление двухфакторной аутентификации
